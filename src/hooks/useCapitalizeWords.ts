import { useState } from "react";

function useCapitalizeWords() {
  const [capitalizedText, setCapitalizedText] = useState<string>("");

  const capitalizeWords = (text: string) => {
    // Elimina "/" al principio, reemplaza "-" por espacios y maneja el texto vacío
    const cleanedText = text
      .replace(/^\//, "")   // Elimina "/" al inicio
      .replace(/-/g, " ")   // Reemplaza "-" por espacios
      .trim();              // Elimina espacios extra al inicio y final

    if (!cleanedText) {
      setCapitalizedText(""); // Si el texto es vacío, devolver una cadena vacía
      return;
    }

    const capitalized = cleanedText
      .split(" ")
      .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
      .join(" ");

    setCapitalizedText(capitalized);
  };

  return { capitalizedText, capitalizeWords };
}

export default useCapitalizeWords;
